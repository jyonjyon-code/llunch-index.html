<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã²ã‚‹ã‚ã—ãˆã‚‰ã‚“ã§</title>
    <style>
        /* å’Œé¢¨ã§è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«èª¿æ•´ */
        body { font-family: 'Hiragino Kaku Gothic ProN', sans-serif; text-align: center; background: #f9f1e6; padding: 30px; color: #333; }
        .card { background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: inline-block; width: 360px; border: 4px solid #d9534f; }
        h2 { color: #d9534f; margin-bottom: 20px; font-size: 24px; }
        #omikuji-box { font-size: 100px; cursor: pointer; margin: 20px 0; transition: transform 0.1s; }
        .shake { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: rotate(0deg); } 25% { transform: rotate(8deg); }
            50% { transform: rotate(0deg); } 75% { transform: rotate(-8deg); }
            100% { transform: rotate(0deg); }
        }
        .mode-selector { margin-bottom: 20px; }
        .mode-btn { border: 2px solid #d9534f; padding: 8px 18px; cursor: pointer; background: white; border-radius: 20px; font-size: 14px; margin: 0 5px; color: #d9534f; font-weight: bold; }
        .active-mode { background: #d9534f; color: white; }
        #result-area { display: none; background: #fffcf0; border: 2px dashed #f0ad4e; padding: 20px; border-radius: 15px; margin-top: 20px; }
        .btn { background: #4285F4; color: white; border: none; padding: 14px 24px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 15px; }
        .lucky-item { color: #e67e22; font-weight: bold; font-size: 0.95em; margin-top: 10px; }
        #hint { font-size: 14px; color: #888; margin-top: 10px; }
    </style>
</head>
<body>

<div class="card">
    <h2>ã²ã‚‹ã‚ã—ãˆã‚‰ã‚“ã§</h2>

    <div class="mode-selector">
        <button id="normal-btn" class="mode-btn active-mode" onclick="setMode('normal')">ã¿ã›ã‚’ãˆã‚‰ã¶</button>
        <button id="conveni-btn" class="mode-btn" onclick="setMode('conveni')">ã‚³ãƒ³ãƒ“ãƒ‹</button>
    </div>

    <div id="omikuji-box" onclick="draw()">ğŸ±</div>
    <p id="hint">ã‚¿ãƒƒãƒ—ã—ã¦ ãŠã¿ãã˜ã‚’ ãµã‚‹ï¼</p>

    <div id="result-area">
        <div id="luck" style="font-size: 20px; font-weight: bold; color: #d9534f;"></div>
        <h2 id="food" style="margin: 10px 0;"></h2>
        <p id="desc" style="font-size: 14px; color: #555; line-height: 1.6;"></p>
        <div class="lucky-item">âœ¨ãƒ©ãƒƒã‚­ãƒ¼è²·ã„è¶³ã—: <span id="add-on"></span></div>
        <a id="map-link" class="btn" target="_blank">è¿‘ãã®åº—ã‚’ã•ãŒã™</a><br>
        <button class="btn" style="background:#aaa; margin-top:15px; font-size: 12px;" onclick="reset()">ã‚‚ã†ã„ã¡ã© ã²ã</button>
    </div>
</div>

<script>
    let currentMode = 'normal';

    const normalMenus = [
        { luck: "å¤§å¤§å‰", food: "ç‰¹é¸ï¼åšåˆ‡ã‚Šã‚¹ãƒ†ãƒ¼ã‚­", keyword: "ã‚¹ãƒ†ãƒ¼ã‚­", desc: "ãƒ‘ãƒ¯ãƒ¼ãƒãƒ£ãƒ¼ã‚¸ï¼åˆå¾Œã‚‚ç„¡æ•µã§ã™ã€‚", add: "ã‚¬ãƒ¼ãƒªãƒƒã‚¯ãƒ©ã‚¤ã‚¹" },
        { luck: "å¤§å‰", food: "è‚‰æ±ã‚ãµã‚Œã‚‹ãƒãƒ³ãƒãƒ¼ã‚°", keyword: "ãƒãƒ³ãƒãƒ¼ã‚°", desc: "ç‹é“ãƒ©ãƒ³ãƒã€‚ãƒ‡ãƒŸã‚°ãƒ©ã‚¹ã§æ±ºã¾ã‚Šï¼", add: "ç›®ç‰ç„¼ã" },
        { luck: "å¤§å‰", food: "ã‚µã‚¯ã‚µã‚¯ã®ãˆã³å¤©ä¸¼", keyword: "å¤©ä¸¼", desc: "è´…æ²¢ã«ã„ã£ã¡ã‚ƒã„ã¾ã—ã‚‡ã†ã€‚", add: "å†·ã‚„ã—å°ã†ã©ã‚“" },
        { luck: "ä¸­å‰", food: "ã¨ã‚ã¨ã‚åµã®ã‚ªãƒ ãƒ©ã‚¤ã‚¹", keyword: "ã‚ªãƒ ãƒ©ã‚¤ã‚¹", desc: "æ‡ã‹ã—ã®å‘³ã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã€‚", add: "ãƒŸãƒ‹ã‚µãƒ©ãƒ€" },
        { luck: "ä¸­å‰", food: "æœ¬æ ¼ã‚¹ãƒ‘ã‚¤ã‚¹ã‚«ãƒ¬ãƒ¼", keyword: "ã‚«ãƒ¬ãƒ¼", desc: "é¦™ã‚Šã§è„³ãŒã‚·ãƒ£ã‚­ãƒƒã¨ç›®è¦šã‚ã¾ã™ã€‚", add: "ãƒ©ãƒƒã‚·ãƒ¼" },
        { luck: "ä¸­å‰", food: "æ¿ƒåšã“ã£ã¦ã‚Šãƒ©ãƒ¼ãƒ¡ãƒ³", keyword: "ãƒ©ãƒ¼ãƒ¡ãƒ³", desc: "è‡³é«˜ã®ä¸€æ¯ã€‚æ›¿ãˆç‰ã‚‚ã‚ã‚Šï¼", add: "ç™½ã”ã¯ã‚“" },
        { luck: "å‰", food: "æ–°é®®ï¼æµ·é®®ä¸¼", keyword: "æµ·é®®ä¸¼", desc: "æµ·ã®å¹¸ã§ã€ã‚¹ãƒãƒ¼ãƒˆã«åˆå¾Œã‚’ã€‚ ", add: "ã‚ãŠã•ã®å‘³å™Œæ±" },
        { luck: "å‰", food: "ãƒ‘ãƒªãƒƒã¨é¤ƒå­å®šé£Ÿ", keyword: "é¤ƒå­ å®šé£Ÿ", desc: "ã‚¬ãƒƒãƒ„ãƒªé£Ÿã¹ã¦ã‚¹ã‚¿ãƒŸãƒŠæº€ç‚¹ï¼", add: "ã‚¶ãƒ¼ã‚µã‚¤" },
        { luck: "æœ«å‰", food: "ç‚­ç«ç„¼ãã®é­šå®šé£Ÿ", keyword: "ç„¼ãé­šå®šé£Ÿ", desc: "è½ã¡ç€ãç¾å‘³ã—ã•ã§ã™ã€‚", add: "ã¨ã‚ã‚" }
    ];

    const conveniMenus = [
        { luck: "å¤§å¤§å‰", food: "é«˜ç´šå¹•ã®å†… ï¼† ãƒ‡ã‚¶ãƒ¼ãƒˆ", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "ã‚³ãƒ³ãƒ“ãƒ‹ç•Œã®ç‹æ—ã®ã‚ˆã†ãªè´…æ²¢ã‚’ã€‚", add: "æ·¹ã‚ŒãŸã¦ã‚³ãƒ¼ãƒ’ãƒ¼" },
        { luck: "å¤§å‰", food: "ã‚«ãƒ„ã‚«ãƒ¬ãƒ¼ ï¼† ã‚µãƒ©ãƒ€", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "åˆå¾Œã¸ã®æ´»åŠ›ã‚’ãƒãƒ£ãƒ¼ã‚¸ï¼", add: "é£²ã‚€ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ" },
        { luck: "ä¸­å‰", food: "ã¤ã‘éºº ï¼† ãŠã«ãã‚Š", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "ç‚­æ°´åŒ–ç‰©ã‚³ãƒ³ãƒ“ã§æº€è…¹ã«ï¼", add: "ã‹ã‚‰ã‚ã’æ£’" },
        { luck: "ä¸­å‰", food: "ãƒãƒ¼ã‚ºãƒ‘ã‚¹ã‚¿ ï¼† ãƒã‚­ãƒ³", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "æº€è¶³åº¦ãŒé«˜ã„é‰„æ¿ã‚»ãƒƒãƒˆã€‚", add: "ãƒãƒŠãƒŠ" },
        { luck: "å‰", food: "ãŠã«ãã‚Š ï¼† ã‚«ãƒƒãƒ—è±šæ±", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "ãƒ›ãƒƒã¨ã™ã‚‹æœ€å¼·ã‚³ãƒ³ãƒ“ã€‚", add: "ã‚†ã§åµ" },
        { luck: "æœ«å‰", food: "ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ ï¼† ã‚¹ãƒ¼ãƒ—", keyword: "ã‚³ãƒ³ãƒ“ãƒ‹", desc: "è»½ã‚„ã‹ã§æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚‚è‰¯ã—ã€‚", add: "ãƒŠãƒƒãƒ„" }
    ];

    function setMode(mode) {
        currentMode = mode;
        document.getElementById('normal-btn').classList.toggle('active-mode', mode === 'normal');
        document.getElementById('conveni-btn').classList.toggle('active-mode', mode === 'conveni');
        reset();
    }

    function draw() {
        const box = document.getElementById('omikuji-box');
        box.classList.add('shake');
        document.getElementById('hint').innerText = "ã‚·ãƒ£ã‚«ã‚·ãƒ£ã‚«...";

        setTimeout(() => {
            box.classList.remove('shake');
            const list = currentMode === 'normal' ? normalMenus : conveniMenus;
            const res = list[Math.floor(Math.random() * list.length)];
            
            document.getElementById('luck').innerText = `ã€${res.luck}ã€‘`;
            document.getElementById('food').innerText = res.food;
            document.getElementById('desc').innerText = res.desc;
            document.getElementById('add-on').innerText = res.add;
            
            const searchKeyword = currentMode === 'conveni' ? "ã‚³ãƒ³ãƒ“ãƒ‹" : "è¿‘ãã®" + res.keyword;
            // ä¿®æ­£æ¸ˆã¿ï¼š${}ã‚’ä½¿ã£ã¦ç¢ºå®Ÿã«URLã‚’ç”Ÿæˆ
            const mapUrl = `https://www.google.com/maps/search/${encodeURIComponent(searchKeyword)}`;
            
            const linkElem = document.getElementById('map-link');
            linkElem.href = mapUrl;
            linkElem.innerText = currentMode === 'conveni' ? "ã¡ã‹ãã®ã‚³ãƒ³ãƒ“ãƒ‹ã‚’ã•ãŒã™" : `ã¡ã‹ãã®${res.keyword}ã‚’ã•ãŒã™`;
            
            document.getElementById('result-area').style.display = 'block';
            box.style.display = 'none';
            document.getElementById('hint').style.display = 'none';
        }, 800);
    }

    function reset() {
        document.getElementById('result-area').style.display = 'none';
        document.getElementById('omikuji-box').style.display = 'block';
        document.getElementById('omikuji-box').innerText = currentMode === 'normal' ? "ğŸ±" : "ğŸª";
        document.getElementById('hint').style.display = 'block';
        document.getElementById('hint').innerText = "ã‚¿ãƒƒãƒ—ã—ã¦ ãŠã¿ãã˜ã‚’ ãµã‚‹ï¼";
    }
</script>

</body>
</html>